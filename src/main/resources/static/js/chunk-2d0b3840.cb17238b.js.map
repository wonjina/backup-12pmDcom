{"version":3,"sources":["webpack:///./src/views/UserRecord.vue?601e","webpack:///src/views/UserRecord.vue","webpack:///./src/views/UserRecord.vue?9d22","webpack:///./src/views/UserRecord.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","moment","format","userRecord","prevBtn","nextBtn","on","updateData","userRecordList","staticRenderFns","components","UserRecordList","UserTodayRecord","data","boardListLinks","loading","status","computed","watch","i","rel","created","userInfo","undefined","title","icon","$router","push","todayUserFetchData","userFetchData","methods","memberId","user","member_id","setParamsData","link","href","component"],"mappings":"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","file":"js/chunk-2d0b3840.cb17238b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-card',{staticClass:\"mx-5 mb-5\",attrs:{\"center\":\"\"}},[_c('v-card-text',[_c('div'),_vm._v(\" \"),_c('h4',{staticClass:\"font-weight-medium\"},[_c('v-chip',{attrs:{\"color\":\"green darken-3\",\"label\":\"\",\"dark\":\"\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.moment().format('MM월 DD일'))+\"\\n            \")]),_vm._v(\"\\n            참여 예정 모집글\\n          \")],1),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div',{staticClass:\"text--primary\"},[_c('user-today-record',{attrs:{\"items\":_vm.userRecord}})],1)])],1),_vm._v(\" \"),_c('material-card',{staticClass:\"mx-5 mb-5\",attrs:{\"title\":\"나의 참여 기록\",\"paging-btn\":\"\",\"prev-btn\":_vm.prevBtn,\"next-btn\":_vm.nextBtn},on:{\"update\":_vm.updateData}},[(_vm.loading)?_c('div',{staticClass:\"loading\"},[_vm._v(\"\\n          Loading...\\n        \")]):_c('div',[_c('user-record-list',{attrs:{\"items\":_vm.userRecordList}})],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container\r\n    fill-height\r\n    fluid\r\n    grid-list-xl\r\n  >\r\n    <v-layout\r\n      justify-center\r\n      wrap\r\n    >\r\n      <v-flex\r\n        md12\r\n      >\r\n        <v-card\r\n          class=\"mx-5 mb-5\"\r\n          center\r\n        >\r\n          <v-card-text>\r\n            <div />\r\n            <h4 class=\"font-weight-medium\">\r\n              <v-chip\r\n                color=\"green darken-3\"\r\n                label\r\n                dark\r\n              >\r\n                {{ moment().format('MM월 DD일') }}\r\n              </v-chip>\r\n              참여 예정 모집글\r\n            </h4>\r\n            <div />\r\n            <div class=\"text--primary\">\r\n              <user-today-record\r\n                :items=\"userRecord\"\r\n              />\r\n            </div>\r\n          </v-card-text>\r\n        </v-card>\r\n        <material-card\r\n          class=\"mx-5 mb-5\"\r\n          title=\"나의 참여 기록\"\r\n          paging-btn\r\n          :prev-btn=\"prevBtn\"\r\n          :next-btn=\"nextBtn\"\r\n          @update=\"updateData\"\r\n        >\r\n          <div\r\n            v-if=\"loading\"\r\n            class=\"loading\"\r\n          >\r\n            Loading...\r\n          </div>\r\n          <div v-else>\r\n            <user-record-list\r\n              :items=\"userRecordList\"\r\n            />\r\n          </div>\r\n        </material-card>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport UserRecordList from '@/components/local/list/UserRecordList.vue'\r\nimport UserTodayRecord from '@/components/local/UserTodayRecord.vue'\r\nimport { restful } from '../api'\r\nimport { urls } from '../api/requestUrl.js'\r\nimport moment from 'moment'\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n  components: {\r\n    'user-record-list': UserRecordList,\r\n    'user-today-record': UserTodayRecord\r\n  },\r\n  data () {\r\n    return {\r\n      userRecord: [],\r\n      userRecordList: [],\r\n      boardListLinks: [],\r\n      loading: false,\r\n      status: false,\r\n      prevBtn: false,\r\n      nextBtn: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'userInfo'\r\n    ])\r\n  },\r\n  watch: {\r\n    boardListLinks (val) {\r\n      this.prevBtn = false\r\n      this.nextBtn = false\r\n      for (let i = 0; i < this.boardListLinks.length; ++i) {\r\n        if (this.boardListLinks[i].rel === 'prev') {\r\n          this.prevBtn = true\r\n        } else if (this.boardListLinks[i].rel === 'next') {\r\n          this.nextBtn = true\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    if (this.userInfo === null || this.userInfo === undefined) {\r\n      swal({\r\n        title: '로그인이 필요합니다.',\r\n        icon: 'error'\r\n      })\r\n      this.$router.push({ name: 'main' })\r\n    }\r\n    this.todayUserFetchData()\r\n    this.userFetchData(urls.DOMAIN + '/api/member/' + this.userInfo.user.member_id + '/recruitment', urls.userRecord.data)\r\n  },\r\n  methods: {\r\n    moment: function () {\r\n      return moment()\r\n    },\r\n    todayUserFetchData () {\r\n      this.loading = true\r\n      urls.todayRecord.data.localDateTime = moment().format('YYYY-MM-DDT00:00:01')\r\n      var memberId = this.userInfo.user.member_id\r\n      restful.getRequest(urls.todayRecord.method, urls.DOMAIN + '/api/member/' + memberId + '/recruitment', urls.todayRecord.data)\r\n        .then(result => {\r\n          this.userRecord = result.data.response.content\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n          urls.todayRecord.data.localDateTime = null\r\n        })\r\n    },\r\n    userFetchData (url, data) {\r\n      this.loading = true\r\n      this.setParamsData(0, 4, null)\r\n      restful.getRequest(urls.userRecord.method, url, data)\r\n        .then(result => {\r\n          this.userRecordList = result.data.response.content\r\n          this.boardListLinks = result.data.response.links\r\n        })\r\n        .finally(() => {\r\n          this.setParamsData(0, 5, null)\r\n          this.loading = false\r\n        })\r\n    },\r\n    updateData (link) {\r\n      for (let i = 0; i < this.boardListLinks.length; ++i) {\r\n        if (this.boardListLinks[i].rel === link) {\r\n          this.userFetchData(this.boardListLinks[i].href)\r\n          break\r\n        }\r\n      }\r\n    },\r\n    setParamsData (page, size, localDateTime) {\r\n      urls.userRecord.data.page = page\r\n      urls.userRecord.data.size = size\r\n      urls.userRecord.data.localDateTime = localDateTime\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRecord.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRecord.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserRecord.vue?vue&type=template&id=00c40bf0&\"\nimport script from \"./UserRecord.vue?vue&type=script&lang=js&\"\nexport * from \"./UserRecord.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}