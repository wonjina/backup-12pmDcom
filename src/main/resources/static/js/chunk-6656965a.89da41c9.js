(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6656965a"],{"0f2f":function(t,r,a){},"28c6":function(t,r,a){"use strict";var e=a("0f2f"),o=a.n(e);o.a},6618:function(t,r,a){"use strict";a.r(r);var e=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("material-card",{staticClass:"mx-5 mb-3",attrs:{title:"모집글"}},[t.loading?a("div",{staticClass:"loading"},[t._v("\n          Loading...\n        ")]):a("div",[a("h5",[t._v("제목: "+t._s(t.recruitBoard.boardSubject))]),t._v(" "),a("p",[t._v("음식점: "+t._s(t.recruitBoard.restaurantName))]),t._v(" "),a("p",[t._v("\n            참여인원:\n            "),a("v-chip",{attrs:{color:t.getColor(t.recruitBoard.countMember,t.recruitBoard.maxNumber),dark:""}},[t._v("\n              "+t._s(t.recruitBoard.countMember)+"/"+t._s(t.recruitBoard.maxNumber)+"\n            ")])],1),t._v(" "),a("p",t._l(t.recruitBoard.joinMembers,(function(r,e){return a("v-chip",{key:e,attrs:{dark:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",[t._v("mdi-account-circle")])],1),t._v("\n              "+t._s(r.name)+"\n            ")],1)})),1),t._v(" "),a("v-btn",{staticClass:"font-weight-light",attrs:{outlined:"",color:"success",round:"",type:"submit",disabled:t.disableBtn(t.recruitBoard,t.userData)},on:{click:function(r){t.addMember()}}},[t._v("\n            참여하기\n          ")])],1)]),t._v(" "),t.loading?t._e():a("GmapMap",{staticClass:"custom-width2",attrs:{options:t.mapOptions,center:{lat:t.recruitBoard.locationX,lng:t.recruitBoard.locationY},zoom:15,"map-type-id":"roadmap"}},[a("GmapMarker",{attrs:{position:{lat:t.recruitBoard.locationX,lng:t.recruitBoard.locationY}}})],1)],1)],1)],1)},o=[],n=(a("d3b7"),a("5530")),i=a("365c"),c=a("2c37"),s=a("1940"),u=a.n(s),d=a("c1df"),l=a.n(d),m=a("2f62"),f=a("7047"),h={data:function(){return{recruitBoard:[],userData:[],mapOptions:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,disableDefaultUi:!1},loading:!0,boardId:null}},computed:Object(n["a"])({},Object(m["c"])(["userInfo"])),created:function(){null!==this.userInfo&&void 0!==this.userInfo||(u()({title:"로그인이 필요합니다.",icon:"error"}),this.$router.push({name:"main"})),this.boardId=this.$route.params.id,this.detailBoardFetchData(),this.todayUserFetchData()},methods:{todayUserFetchData:function(){var t=this;this.loading=!0;var r=l()().format("YYYY-MM-DDT00:00:01");c["a"].userRecord.data.localDateTime=r;var a=this.userInfo.user.member_id;i["a"].getRequest(c["a"].userRecord.method,c["a"].DOMAIN+"/api/member/"+a+"/recruitment",c["a"].userRecord.data).then((function(r){t.userData=r.data.response.content})).finally((function(){c["a"].userRecord.data.localDateTime=null}))},detailBoardFetchData:function(){var t=this;this.loading=!0,i["a"].getRequest(c["a"].recruitBoard.method,c["a"].DOMAIN+c["a"].recruitBoard.path+"/"+this.boardId).then((function(r){t.recruitBoard=r.data.response})).finally((function(){t.loading=!1}))},disableBtn:function(t,r){var a=l()().format("YYYY-MM-DDT00:00:01");return a>t.boardDate?(u()("참여 불가","지난 모집글은 참여가 불가능합니다.","error"),!0):r.length>=1?(u()("현재 참여중인 모집글이 존재합니다.","사용자 페이지를 확인하세요.","warning"),!0):t.maxNumber-t.countMember===0},addMember:function(){var t=this.recruitBoard.boardId,r=this.userInfo.user.member_id;i["a"].getRequest(c["a"].joinRecruitment.method,c["a"].DOMAIN+c["a"].joinRecruitment.path+"/"+t+"/members/"+r).then((function(t){u()({title:"참여되었습니다.",icon:"success"}).then((function(){location.href="/RecruitBoard"}))})).catch((function(t){f["a"].catch(t)})).finally((function(){}))},getColor:function(t,r){return r-t===0?"red":r-t===1?"orange":"green"}}},p=h,v=(a("28c6"),a("2877")),b=Object(v["a"])(p,e,o,!1,null,null,null);r["default"]=b.exports}}]);
//# sourceMappingURL=chunk-6656965a.89da41c9.js.map