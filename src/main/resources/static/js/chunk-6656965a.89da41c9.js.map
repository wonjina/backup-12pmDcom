{"version":3,"sources":["webpack:///./src/views/RecruitBoardInfo.vue?043c","webpack:///./src/views/RecruitBoardInfo.vue?17bd","webpack:///src/views/RecruitBoardInfo.vue","webpack:///./src/views/RecruitBoardInfo.vue?6a3d","webpack:///./src/views/RecruitBoardInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","recruitBoard","boardSubject","restaurantName","getColor","countMember","maxNumber","_l","joinMember","idx","key","name","disableBtn","userData","on","$event","addMember","loading","_e","mapOptions","lat","locationX","lng","locationY","staticRenderFns","data","zoomControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","disableDefaultUi","boardId","computed","created","userInfo","undefined","title","icon","$router","push","$route","params","id","detailBoardFetchData","todayUserFetchData","methods","localDateTime","memberId","user","member_id","today","boardDate","component"],"mappings":"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","file":"js/chunk-6656965a.89da41c9.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecruitBoardInfo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecruitBoardInfo.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('material-card',{staticClass:\"mx-5 mb-3\",attrs:{\"title\":\"모집글\"}},[(_vm.loading)?_c('div',{staticClass:\"loading\"},[_vm._v(\"\\n          Loading...\\n        \")]):_c('div',[_c('h5',[_vm._v(\"제목: \"+_vm._s(_vm.recruitBoard.boardSubject))]),_vm._v(\" \"),_c('p',[_vm._v(\"음식점: \"+_vm._s(_vm.recruitBoard.restaurantName))]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n            참여인원:\\n            \"),_c('v-chip',{attrs:{\"color\":_vm.getColor(_vm.recruitBoard.countMember, _vm.recruitBoard.maxNumber),\"dark\":\"\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.recruitBoard.countMember)+\"/\"+_vm._s(_vm.recruitBoard.maxNumber)+\"\\n            \")])],1),_vm._v(\" \"),_c('p',_vm._l((_vm.recruitBoard.joinMembers),function(joinMember,idx){return _c('v-chip',{key:idx,attrs:{\"dark\":\"\"}},[_c('v-avatar',{attrs:{\"left\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-account-circle\")])],1),_vm._v(\"\\n              \"+_vm._s(joinMember.name)+\"\\n            \")],1)}),1),_vm._v(\" \"),_c('v-btn',{staticClass:\"font-weight-light\",attrs:{\"outlined\":\"\",\"color\":\"success\",\"round\":\"\",\"type\":\"submit\",\"disabled\":_vm.disableBtn(_vm.recruitBoard, _vm.userData)},on:{\"click\":function($event){_vm.addMember()}}},[_vm._v(\"\\n            참여하기\\n          \")])],1)]),_vm._v(\" \"),(!_vm.loading)?_c('GmapMap',{staticClass:\"custom-width2\",attrs:{\"options\":_vm.mapOptions,\"center\":{lat: _vm.recruitBoard.locationX, lng: _vm.recruitBoard.locationY},\"zoom\":15,\"map-type-id\":\"roadmap\"}},[_c('GmapMarker',{attrs:{\"position\":{lat: _vm.recruitBoard.locationX, lng: _vm.recruitBoard.locationY}}})],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container\r\n    fill-height\r\n    fluid\r\n    grid-list-xl\r\n  >\r\n    <v-layout\r\n      justify-center\r\n      wrap\r\n    >\r\n      <v-flex\r\n        md12\r\n      >\r\n        <material-card\r\n          title=\"모집글\"\r\n          class=\"mx-5 mb-3\"\r\n        >\r\n          <div\r\n            v-if=\"loading\"\r\n            class=\"loading\"\r\n          >\r\n            Loading...\r\n          </div>\r\n          <div v-else>\r\n            <h5>제목: {{ recruitBoard.boardSubject }}</h5>\r\n            <p>음식점: {{ recruitBoard.restaurantName }}</p>\r\n            <p>\r\n              참여인원:\r\n              <v-chip\r\n                :color=\"getColor(recruitBoard.countMember, recruitBoard.maxNumber)\"\r\n                dark\r\n              >\r\n                {{ recruitBoard.countMember }}/{{ recruitBoard.maxNumber }}\r\n              </v-chip>\r\n            </p>\r\n            <p>\r\n              <v-chip\r\n                v-for=\"(joinMember , idx) in recruitBoard.joinMembers\"\r\n                :key=\"idx\"\r\n                dark\r\n              >\r\n                <v-avatar left>\r\n                  <v-icon>mdi-account-circle</v-icon>\r\n                </v-avatar>\r\n                {{ joinMember.name }}\r\n              </v-chip>\r\n            </p>\r\n            <v-btn\r\n              outlined\r\n              color=\"success\"\r\n              round\r\n              class=\"font-weight-light\"\r\n              type=\"submit\"\r\n              :disabled=\"disableBtn(recruitBoard, userData)\"\r\n              @click=\"addMember()\"\r\n            >\r\n              참여하기\r\n            </v-btn>\r\n          </div>\r\n        </material-card>\r\n        <GmapMap\r\n          v-if=\"!loading\"\r\n          :options=\"mapOptions\"\r\n          :center=\"{lat: recruitBoard.locationX, lng: recruitBoard.locationY}\"\r\n          :zoom=\"15\"\r\n          map-type-id=\"roadmap\"\r\n          class=\"custom-width2\"\r\n        >\r\n          <GmapMarker\r\n            :position=\"{lat: recruitBoard.locationX, lng: recruitBoard.locationY}\"\r\n          />\r\n        </GmapMap>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { restful } from '../api'\r\nimport { urls } from '../api/requestUrl.js'\r\nimport swal from 'sweetalert'\r\nimport moment from 'moment'\r\nimport { mapState } from 'vuex'\r\nimport { exceptionHandler } from '../api/exceptionHandler.js'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      recruitBoard: [],\r\n      userData: [],\r\n      mapOptions: {\r\n        zoomControl: true,\r\n        mapTypeControl: true,\r\n        scaleControl: false,\r\n        streetViewControl: false,\r\n        rotateControl: false,\r\n        fullscreenControl: true,\r\n        disableDefaultUi: false\r\n      },\r\n      loading: true,\r\n      boardId: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'userInfo'\r\n    ])\r\n  },\r\n  created () {\r\n    if (this.userInfo === null || this.userInfo === undefined) {\r\n      swal({\r\n        title: '로그인이 필요합니다.',\r\n        icon: 'error'\r\n      })\r\n      this.$router.push({ name: 'main' })\r\n    }\r\n    this.boardId = this.$route.params.id\r\n    this.detailBoardFetchData()\r\n    this.todayUserFetchData()\r\n  },\r\n  methods: {\r\n    todayUserFetchData () {\r\n      this.loading = true\r\n      var localDateTime = moment().format('YYYY-MM-DDT00:00:01')\r\n      urls.userRecord.data.localDateTime = localDateTime\r\n      var memberId = this.userInfo.user.member_id\r\n      restful.getRequest(urls.userRecord.method, urls.DOMAIN + '/api/member/' + memberId + '/recruitment', urls.userRecord.data)\r\n        .then(result => {\r\n          this.userData = result.data.response.content\r\n        })\r\n        .finally(() => {\r\n          urls.userRecord.data.localDateTime = null\r\n        })\r\n    },\r\n    detailBoardFetchData () {\r\n      this.loading = true\r\n      restful.getRequest(urls.recruitBoard.method, urls.DOMAIN + urls.recruitBoard.path + '/' + this.boardId)\r\n        .then(result => {\r\n          this.recruitBoard = result.data.response\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n    },\r\n    disableBtn (recruitBoard, userData) {\r\n      var today = moment().format('YYYY-MM-DDT00:00:01')\r\n      if (today > recruitBoard.boardDate) {\r\n        swal('참여 불가', '지난 모집글은 참여가 불가능합니다.', 'error')\r\n        return true\r\n      } else if (userData.length >= 1) {\r\n        swal('현재 참여중인 모집글이 존재합니다.', '사용자 페이지를 확인하세요.', 'warning')\r\n        return true\r\n      } else if (recruitBoard.maxNumber - recruitBoard.countMember === 0) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    addMember () {\r\n      var boardId = this.recruitBoard.boardId\r\n      var memberId = this.userInfo.user.member_id\r\n      restful.getRequest(urls.joinRecruitment.method, urls.DOMAIN + urls.joinRecruitment.path + '/' + boardId + '/members/' + memberId)\r\n        .then(result => {\r\n          swal({\r\n            title: '참여되었습니다.',\r\n            icon: 'success'\r\n          })\r\n            .then(() => {\r\n              location.href = '/RecruitBoard'\r\n            })\r\n        })\r\n        .catch(result => {\r\n          exceptionHandler.catch(result)\r\n        })\r\n        .finally(() => {\r\n        })\r\n    },\r\n    getColor (countMember, maxNumber) {\r\n      if (maxNumber - countMember === 0) return 'red'\r\n      else if (maxNumber - countMember === 1) return 'orange'\r\n      else return 'green'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.mapouter {\r\n  text-align:right;\r\n  height:50%;\r\n  width:100%;\r\n  position: absolute;\r\n}\r\n.gmap_canvas {\r\n  overflow:hidden;\r\n  background:none!important;\r\n  height:50%;\r\n  width:100%;\r\n}\r\n.browser-height {\r\n  height: 90vh;\r\n}\r\n.scroll {\r\n  overflow:scroll;\r\n}\r\n.text-center {\r\n  text-align: center!important;\r\n}\r\n.custom-width2 {\r\n    margin-left:50px;\r\n    margin-right:50px;\r\n    height: 50%;\r\n    width: 93%;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecruitBoardInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecruitBoardInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecruitBoardInfo.vue?vue&type=template&id=0245946e&\"\nimport script from \"./RecruitBoardInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./RecruitBoardInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecruitBoardInfo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}